var textfield=document.getElementById("code");var inputfield=document.getElementById("repo");var button=document.getElementById("go");var loader=document.getElementById("loader");var loadertext=document.getElementById("loadertext");textfield.addEventListener("keyup",function(a){CodeFieldChanged(a)},false);textfield.addEventListener("change",function(a){CodeFieldChanged(a)},false);function CheckTheCode(){var b=textfield.value;var a=inputfield.value;if(b==""){Error("The code field cannot be empty!")}else{if(b.length>128){Error("Due to API limitations the code cannot be longer than 128chars")}else{ErrorFixed();HideInputField();$.ajax({type:"POST",url:"./checkcode.php",data:{codetocheck:b,urltocheck:a.replace("https://github.com/","")},success:function(d){var c=JSON.parse(d);console.log(c);if(c.repos!=0){ShowResponseText("Your code hass occurences in "+c.repos+" Github repositorie(s).<br>","gitrepo")}if(c.forks!=0){ShowResponseText("Your code repository has "+c.forks+" fork(s).","gitfork")}if(c.forks!=0){ShowResponseText("Your code repository has "+c.pulls+" closed pull request(s).","gitpull")}if(c.questions!=0){ShowResponseText("Your code has occurences in "+c.questions+" Stack question(s).<br>","stack")}ShowResponseText("Your code has occurences in "+c.avgsimilarity+"% of our archive.<br>","archive");if(c.identicalfiles!=0){ShowResponseText("Your code looks almost identical with "+c.identicalfiles+" file(s) of our archive.","identical")}showCheatvalue(c.cheatvalue);MakePageReadyForReload()}})}}}function ShowResponseText(b,a){loader.classList.add("nodisplay");loadertext.classList.add("nodisplay");if(a=="gitrepo"){var c=document.getElementById("responsetextgitrepo");c.innerHTML=b;document.getElementsByClassName("alert")[0].classList.remove("nodisplay")}if(a=="gitfork"){var c=document.getElementById("responsetextgitfork");c.innerHTML=b;document.getElementsByClassName("alert")[1].classList.remove("nodisplay")}if(a=="gitpull"){var c=document.getElementById("responsetextgitpull");c.innerHTML=b;document.getElementsByClassName("alert")[2].classList.remove("nodisplay")}if(a=="stack"){var c=document.getElementById("responsetextstack");c.innerHTML=b;document.getElementsByClassName("alert")[3].classList.remove("nodisplay")}if(a=="archive"){var c=document.getElementById("responsetextarchive");c.innerHTML=b;document.getElementsByClassName("alert")[4].classList.remove("nodisplay")}if(a=="identical"){var c=document.getElementById("responsetextidentical");c.innerHTML=b;document.getElementsByClassName("alert")[5].classList.remove("nodisplay")}}function HideInputField(){textfield.classList.add("nodisplay");inputfield.classList.add("nodisplay");button.classList.add("nodisplay");loader.classList.remove("nodisplay");loadertext.classList.remove("nodisplay")}function MakePageReadyForReload(){document.getElementById("restart").classList.remove("nodisplay")}function Error(b){var a=document.getElementById("error");a.innerHTML=b;a.classList.remove("novisibile")}function ErrorFixed(){var a=document.getElementById("error");if(!a.classList.contains("novisibile")){a.innerHTML="Error";a.classList.add("novisibile")}}function showCheatvalue(a){document.getElementsByClassName("circle")[0].classList.remove("nodisplay");document.getElementById("cheatvalue").innerHTML=a+"%"}function CodeFieldChanged(a){if(textfield.value.length>128){Error("Due to API limitations the code cannot be longer than 128chars")}if(textfield.value.length<128){ErrorFixed()}};